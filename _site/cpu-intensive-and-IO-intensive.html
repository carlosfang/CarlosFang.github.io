<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>CPU 密集型 和I/O 密集型</title>

    <meta name="viewport" content="width=device-width">
    <meta name="description" content="">

    
    

    <link rel="canonical" href="http://localhost:4000/cpu-intensive-and-IO-intensive">
    <link rel="icon" type="image/png" href="/images/logo.png">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/monster.css">
    
    

    

</head>


    <body>
    
    <div class="wrapper">

      <header class="header">

  <div class="site-title">
    
    <h4 class="entry-title"><a href="/cpu-intensive-and-IO-intensive">CPU 密集型 和I/O 密集型</a></h4>
    
  </div>

<div class="links">
    
    <a href="/" class="page-link">Blog</a>
    
    
    
    
      <a class="page-link"
        href="/about/">About</a>
    
    
    
      <a class="page-link"
        href="/categories">Categories</a>
    
    
    
    
    
    
    
      <a class="page-link"
        href="/links/">Links</a>
    
    
    
    
    
      <a class="page-link"
        href="/tags">Tags</a>
    
    
    <a href="/feed.xml" target="_blank" class="page-link">RSS</a>
</div>
</header>

      
      <div class="navi">
    
    <a href="/" class="page-link">Blog</a>
    
    
    
    
      <a class="page-link"
        href="/about/">About</a>
    
    
    
      <a class="page-link"
        href="/categories">Categories</a>
    
    
    
    
    
    
    
      <a class="page-link"
        href="/links/">Links</a>
    
    
    
    
    
      <a class="page-link"
        href="/tags">Tags</a>
    
    
    <a href="/feed.xml" target="_blank" class="page-link">RSS</a>
</div>


      <div class="content">
        <div class="articles">
            <div class="article-meta">
    2023-03-06
     • Category: 
        
        <a href="/categories#Linux-ref" >Linux</a>
        
    
     • Tag: 
        
            <a href="/tags#工作经验-ref" >工作经验</a>
        
            <a href="/tags#性能分析-ref" >性能分析</a>
        
    
</div>


<div class="entry post">

	<div class="entry-content">
	  <article class="entry-body">
	  	
	  		<p>CPU 密集型和 I/O 密集型是两种不同类型的系统负载。</p>

<p>CPU 密集型的系统负载主要是指系统需要大量的 CPU 处理能力，例如复杂的计算、加密、解压等操作，此时系统的CPU资源是系统性能的瓶颈。</p>

<p>而 I/O 密集型的系统负载则主要是指系统需要大量的I/O（输入输出）操作，例如大量的文件读写、网络传输、数据库查询等操作，此时系统的瓶颈在于I/O资源的限制。</p>

<p>要判断一个系统是 CPU 密集型还是IO密集型，可以考虑以下几点：</p>

<ul>
  <li>
    <p>CPU 密集型系统负载会占用大量的 CPU 资源，导致 CPU 利用率接近或达到 100%。而 I/O 密集型系统负载则不一定会占用大量的 CPU 资源，CPU 利用率可能不会很高。</p>
  </li>
  <li>
    <p>CPU 密集型系统负载的主要瓶颈在于 CPU 资源，因此增加 CPU 的数量或提高 CPU 的性能可以提升系统性能。而 I/O 密集型系统负载的主要瓶颈在于 I/O 资源，因此增加磁盘、网络等 I/O 设备的数量或提高 I/O 设备的性能可以提升系统性能。</p>
  </li>
  <li>
    <p>CPU 密集型系统负载通常可以通过并行化处理来提高系统性能。例如将一个任务拆分成多个子任务，分别由多个 CPU 核心同时处理。而 I/O 密集型系统负载则通常无法通过并行化处理来提高性能，因为 I/O 操作通常是有序的，无法并行处理。</p>
  </li>
</ul>

<p>在实际应用中，可以通过监控系统资源的使用情况来判断系统是 CPU 密集型还是 I/O 密集型。例如可以通过查看 CPU 利用率、磁盘 I/O 速率、网络吞吐量等指标来判断系统负载类型。同时也可以通过分析系统日志、调查应用程序的工作方式来确定系统负载类型。</p>

<p>在 Linux 系统中，通过什么指标来判断程序是 CPU 密集型和 I/O 密集型？</p>

<ul>
  <li>
    <p>CPU 使用率：如果一个程序在运行过程中占用了大量的 CPU 时间，那么它很可能是 CPU 密集型的。可以使用 top、htop 或 pidstat 等命令来查看进程的 CPU 使用率。</p>
  </li>
  <li>
    <p>I/O 操作次数和速率：如果一个程序在运行过程中需要频繁进行 I/O 操作，那么它很可能是 I/O 密集型的。可以使用 <code class="language-plaintext highlighter-rouge">iostat</code> 或 <code class="language-plaintext highlighter-rouge">dstat</code> 命令来查看进程的 I/O 操作次数和速率。</p>
  </li>
  <li>
    <p>上下文切换次数：上下文切换是 CPU 在不同进程或线程之间切换的过程，如果一个程序需要频繁地进行上下文切换，那么它很可能是 CPU 密集型的。可以使用 <code class="language-plaintext highlighter-rouge">vmstat</code> 或 <code class="language-plaintext highlighter-rouge">pidstat</code> 命令来查看进程的上下文切换次数。</p>
  </li>
</ul>

<p>内存使用情况：如果一个程序需要大量的内存来存储数据，那么它很可能是 CPU 密集型的。可以使用 top 或 ps 命令来查看进程的内存使用情况。</p>

<p>用 iostat 查看系统信息，性能分析</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">[</span>root@VM-0-15-centos ~]# iostat
Linux 3.10.0-1062.18.1.el7.x86_64 <span class="o">(</span>VM-0-15-centos<span class="o">)</span> 	2023年03月23日 	_x86_64_	<span class="o">(</span>1 CPU<span class="o">)</span>

avg-cpu:  %user   %nice %system %iowait  %steal   %idle
           0.73    0.00    0.60    0.16    0.00   98.51

Device:            tps    kB_read/s    kB_wrtn/s    kB_read    kB_wrtn
vda               5.07        49.60        88.86 3946267318 7070489480
scd0              0.00         0.00         0.00        314          0
</code></pre></div></div>
<p><strong>I/O瓶颈</strong></p>

<p>如果 <code class="language-plaintext highlighter-rouge">%iowait</code> 的值过高，表示硬盘存在 I/O 瓶颈</p>

<p><strong>内存不足</strong></p>

<p><code class="language-plaintext highlighter-rouge">%idle</code> 值高，表示 CPU 较空闲，如果<code class="language-plaintext highlighter-rouge">%idle</code> 值高但系统响应慢时，有可能是 CPU 在等待分配内存，此时应加大内存容量</p>

<p><strong>CPU资源不足</strong></p>

<p>如果 %idle 值持续低于 10，那么系统的 PU 处理能力相对较低，表明系统中最需要解决的资源是 CPU.</p>


  		
	  </article>
    </div>

</div>

<span>
	<a  href="/patterns-for-extensible-architectures" class="pageNav"  >上一篇</a>
	&nbsp;&nbsp;&nbsp;
	<a  href="/RESTful" class="pageNav"  >下一篇</a>
</span>


	<div class="article-author">
    <div class="name">
        <h4><b>carlos</b> </h4>
        Just for fun!
    </div>
    <div class="avatar">
        <img width="50" height="50" src="/images/header.png" alt=" Avatar"/>
    </div>
</div>


	
	    <!--
<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = '';
	(function() {
	    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
	    dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
	    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
-->
	



<!--
<div class="cnzz"><script src="http://s4.cnzz.com/z_stat.php?id=1255123325&web_id=1255123325" language="JavaScript"></script> </div>
 -->

        </div>
      </div>
    </div>

    </body>
</html>
