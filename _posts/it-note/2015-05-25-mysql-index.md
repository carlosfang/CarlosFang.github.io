---
layout: post
title: mysql 索引
date: 2015-05-25 11:08:12
categories: db
tags:  mysql 
excerpt: mysql 索引比重要，影响业务的高并发和高性能
---


# 一、 索引原则

1、最左匹配原则：向右匹配直到遇到范围查询(>、<、between、like)就停止匹配

2、尽量选择区分度高的列作为索引,区分度的公式是`count(distinct col)/count(*)`

3、索引列不能参与计算，保持列“干净”

4、尽量的扩展索引，不要新建索引
  

# 二、 联合索引选择列顺序

- 经常会被使用到的优先

- 选择性高的优先

- 宽度小的列优先


# 三、索引失效

1、查询条件使用函数在索引列上

2、隐式转换导致索引失效

3、对索引列进行运算

4、使用like ，like查询是以%开头

5、不符合复合索引 “最左前缀”原则

6、用or分割开的条件，若or前的条件中的列有索引，而后面列中没有索引

7、使用NOT IN和<>操作


---
1、[关于MySQL索引原理，讲的最清晰的一篇文章](https://zhuanlan.zhihu.com/p/394429932)

2、[MySQL索引失效的7种情况及使用建议](https://zhuanlan.zhihu.com/p/361172794)
